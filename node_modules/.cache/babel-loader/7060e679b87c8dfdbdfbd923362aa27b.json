{"ast":null,"code":"var _jsxFileName = \"/Users/gimbo/Development/financesite/frontend/src/components/Expenses.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport ExpenseModal from './ExpenseModal';\nimport CategoryModal from './CategoryModal';\nexport default class Expenses extends Component {\n  constructor(props) {\n    super(props);\n\n    this.refreshList = () => {\n      axios.get('/api/spendings/expenses/').then(resp => {\n        resp.data.sort(function (a, b) {\n          var keyA = a.date;\n          var keyB = b.date;\n          return keyA < keyB ? -1 : keyB < keyA ? 1 : 0;\n        });\n        this.setState({\n          expensesList: resp.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      axios.get('/api/spendings/categories/').then(resp => {\n        resp.data.sort(function (a, b) {\n          var keyA = a.category;\n          var keyB = b.category;\n          return keyA < keyB ? -1 : keyB < keyA ? 1 : 0;\n        });\n        resp.data.unshift({\n          id: 0,\n          category: \"All\"\n        });\n        this.setState({\n          categoriesList: resp.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.expenseToggle = () => {\n      this.setState({\n        expenseModal: !this.state.expenseModal\n      });\n    };\n\n    this.categoryToggle = () => {\n      this.setState({\n        categoryModal: !this.state.categoryModal\n      });\n    };\n\n    this.handleExpenseSubmit = item => {\n      this.toggle();\n\n      if (item.id) {\n        axios.put(`/api/spendings/expenses/${item.id}/`, item).then(res => this.refreshList());\n        return;\n      }\n\n      axios.post(`/api/spendings/expenses/`, item).then(res => this.refreshList());\n    };\n\n    this.handleCategorySubmit = category => {};\n\n    this.handleDelete = item => {\n      axios.delete(`/api/spendings/expenses/${item.id}`, item).then(res => this.refreshList());\n    };\n\n    this.createExpense = () => {\n      const expense = {\n        expense: \"\",\n        amount: 0,\n        category: \"\"\n      };\n      this.setState({\n        expenseModal: !this.state.expenseModal,\n        activeItem: expense\n      });\n    };\n\n    this.createCategory = () => {\n      const category = {\n        category: \"\"\n      };\n      this.setState({\n        categoryModal: !this.state.categoryModal,\n        newCategory: category\n      });\n    };\n\n    this.editExpense = expense => {\n      this.setState({\n        expenseModal: !this.state.expenseModal,\n        activeItem: expense\n      });\n    };\n\n    this.displayCategory = category => {\n      return this.setState({\n        viewCategory: category\n      });\n    };\n\n    this.renderTabList = () => {\n      const categoryItems = this.state.categoriesList;\n      return categoryItems.map(item => /*#__PURE__*/React.createElement(\"span\", {\n        key: item.id,\n        onClick: () => this.displayCategory(item.id),\n        className: item.id === this.state.viewCategory ? \"active\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 4\n        }\n      }, item.category));\n    };\n\n    this.renderItems = () => {\n      var expenseItems = this.state.expensesList;\n\n      if (this.state.viewCategory > 0) {\n        expenseItems = this.state.expensesList.filter(item => item.category === this.state.viewCategory);\n      }\n\n      return expenseItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n        key: item.expense,\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 5\n        }\n      }, \"Expense: \", item.expense), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 5\n        }\n      }, \"Cost: $\", item.amount), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 5\n        }\n      }, \"Date: \", item.date), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.editExpense(item),\n        className: \"btn btn-secondary mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }\n      }, \" Edit \"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleDelete(item),\n        className: \"btn btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 6\n        }\n      }, \"Delete \"))));\n    };\n\n    this.state = {\n      expenseModal: false,\n      categoryModal: false,\n      activeExpense: {\n        id: 0,\n        expense: \"\",\n        amount: 0,\n        expenseDate: null,\n        category: \"\"\n      },\n      newCategory: {\n        category: \"\"\n      },\n      viewCategory: 0,\n      expensesList: [],\n      categoriesList: []\n    };\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-white text-uppercase text-center my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    }, \"Finance Site - Expenses\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-10 mx-auto p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.createExpense,\n      className: \"btn btn-primary mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, \"Add Expense\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.createCategory,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, \"Add Category\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-5 tab-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 6\n      }\n    }, this.renderTabList()), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group list-group-flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }\n    }, this.renderItems())))), this.state.expenseModal ? /*#__PURE__*/React.createElement(ExpenseModal, {\n      activeItem: this.state.activeItem,\n      categories: this.state.categoriesList,\n      toggle: this.expenseToggle,\n      onSave: this.handleExpenseSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }) : null, this.state.categoryModal ? /*#__PURE__*/React.createElement(CategoryModal, {\n      newCategory: this.state.newCategory,\n      categories: this.state.categoriesList,\n      toggle: this.categoryToggle,\n      onSave: this.handleCategorySubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/gimbo/Development/financesite/frontend/src/components/Expenses.js"],"names":["React","Component","axios","ExpenseModal","CategoryModal","Expenses","constructor","props","refreshList","get","then","resp","data","sort","a","b","keyA","date","keyB","setState","expensesList","catch","err","console","log","category","unshift","id","categoriesList","expenseToggle","expenseModal","state","categoryToggle","categoryModal","handleExpenseSubmit","item","toggle","put","res","post","handleCategorySubmit","handleDelete","delete","createExpense","expense","amount","activeItem","createCategory","newCategory","editExpense","displayCategory","viewCategory","renderTabList","categoryItems","map","renderItems","expenseItems","filter","activeExpense","expenseDate","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nimport ExpenseModal from './ExpenseModal'\nimport CategoryModal from './CategoryModal'\n\nexport default class Expenses extends Component {\n  \tconstructor(props) {\n\t\tsuper(props);\n        \n        this.state = {\n            expenseModal: false,\n            categoryModal: false,\n            activeExpense: {\n                id: 0,\n                expense: \"\",\n                amount: 0,\n                expenseDate: null,\n                category: \"\"\n            },\n            newCategory: {\n                category: \"\"\n            },\n            viewCategory: 0,\n            expensesList: [],\n            categoriesList: []\n\t\t};\n\t}\n\t  \n\tcomponentDidMount() {\n\t\tthis.refreshList();\n\t}\n\n\trefreshList = () => {\n\t\taxios\n\t\t\t.get('/api/spendings/expenses/')\n\t\t\t.then(resp => {\n\t\t\t\tresp.data.sort(function(a, b) {\n\t\t\t\t\tvar keyA = a.date;\n\t\t\t\t\tvar keyB = b.date;\n\n\t\t\t\t\treturn ((keyA < keyB) ?  -1 : ((keyB < keyA) ? 1 : 0));\n\t\t\t\t})\n\t\t\t\tthis.setState({ expensesList: resp.data }) \n\t\t\t})\n\t\t\t.catch(err => { console.log(err); })\n\n\t\taxios\n\t\t\t.get('/api/spendings/categories/')\n\t\t\t.then(resp => { \n\t\t\t\tresp.data.sort(function(a, b) {\n\t\t\t\t\tvar keyA = a.category;\n\t\t\t\t\tvar keyB = b.category;\n\n\t\t\t\t\treturn ((keyA < keyB) ?  -1 : ((keyB < keyA) ? 1 : 0));\n\t\t\t\t})\n\t\t\t\tresp.data.unshift({id: 0, category: \"All\"})\n\t\t\t\tthis.setState({ categoriesList: resp.data })\n\t\t\t})\n\t\t\t.catch(err => { console.log(err); })\n\t}\n\n\texpenseToggle = () => {\n\t\tthis.setState({ expenseModal: !this.state.expenseModal });\n    }\n    \n    categoryToggle = () => {\n        this.setState({ categoryModal: !this.state.categoryModal })\n    }\n\n\thandleExpenseSubmit = item => {\n\t\tthis.toggle();\n\t\tif(item.id) {\n\t\t\taxios\n\t\t\t\t.put(`/api/spendings/expenses/${item.id}/`, item)\n\t\t\t\t.then(res => this.refreshList());\n\t\t\treturn;\n\t\t}\n\t\t\n\t\taxios\n\t\t\t.post(`/api/spendings/expenses/`, item)\n\t\t\t.then(res => this.refreshList());\n    }\n    \n    handleCategorySubmit = category => {\n\n    }\n\n\thandleDelete = item => {\n\t\taxios\n\t\t\t.delete(`/api/spendings/expenses/${item.id}`, item)\n\t\t\t.then(res => this.refreshList());\n\t}\n\n\tcreateExpense = () => {\n\t\tconst expense = { expense: \"\", amount: 0, category: \"\"};\n\t\tthis.setState({ expenseModal: !this.state.expenseModal, activeItem: expense})\n    }\n    \n    createCategory = () => {\n        const category = { category: \"\" };\n        this.setState({ categoryModal: !this.state.categoryModal, newCategory: category })\n    }\n\n\teditExpense = expense => {\n\t\tthis.setState({ expenseModal: !this.state.expenseModal, activeItem: expense })\n\t}\n\n\tdisplayCategory = category => {\n\t\treturn this.setState({ viewCategory: category });\n\t}\n\n\trenderTabList = () => {\n\t\tconst categoryItems = this.state.categoriesList\n\t\treturn categoryItems.map(item => (\n\t\t\t<span key={item.id}\n\t\t\t\tonClick={() => this.displayCategory(item.id)}\n\t\t\t\tclassName={ item.id === this.state.viewCategory ? \"active\" : \"\" }\n\t\t\t> \n\t\t\t\t{item.category}\n\t\t\t</span>\n\t\t));\n\t};\n\t  \n\trenderItems = () => {\n\t\tvar expenseItems = this.state.expensesList\n\t\tif (this.state.viewCategory > 0) {\n\t\t\texpenseItems = this.state.expensesList.filter(\n\t\t\t\titem => item.category === this.state.viewCategory\n\t\t\t);\n\t\t}\n\n\t\treturn expenseItems.map(item => (\n\t\t\t<li\n\t\t\t\tkey={item.expense}\n\t\t\t\tclassName=\"list-group-item d-flex justify-content-between align-items-center\"\n\t\t\t>\n\t\t\t\t<span>Expense: {item.expense}</span>\n\t\t\t\t<span>Cost: ${item.amount}</span>\n\t\t\t\t<span>Date: {item.date}</span>\n\t\t\t\t<span>\n\t\t\t\t\t<button onClick={() => this.editExpense(item)} className=\"btn btn-secondary mr-2\"> Edit </button>\n\t\t\t\t\t<button onClick={() => this.handleDelete(item)} className=\"btn btn-danger\">Delete </button>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t));\n\t};\n  \n\trender() {\n\t\treturn (\n\t\t\t<main className=\"content\">\n\t\t\t\t<h1 className=\"text-white text-uppercase text-center my-4\">Finance Site - Expenses</h1>\n\t\t\t\t<div className=\"row \">\n\t\t\t\t<div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n\t\t\t\t\t<div className=\"card p-3\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this.createExpense} className=\"btn btn-primary mr-2\">Add Expense</button>\n                        <button onClick={this.createCategory} className=\"btn btn-primary\">Add Category</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='my-5 tab-list'>\n\t\t\t\t\t\t{this.renderTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul className=\"list-group list-group-flush\">\n\t\t\t\t\t\t{this.renderItems()}\n\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{ this.state.expenseModal ? (\n\t\t\t\t\t<ExpenseModal\n\t\t\t\t\t\tactiveItem={this.state.activeItem}\n\t\t\t\t\t\tcategories={this.state.categoriesList}\n\t\t\t\t\t\ttoggle={this.expenseToggle}\n\t\t\t\t\t\tonSave={this.handleExpenseSubmit}\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n                { this.state.categoryModal ? (\n                    <CategoryModal\n                        newCategory={this.state.newCategory} \n                        categories={this.state.categoriesList}\n                        toggle={this.categoryToggle}\n                        onSave={this.handleCategorySubmit}\n                    />\n                ) : null }\n\t\t\t</main>\n\t\t);\n  \t}\n}"]},"metadata":{},"sourceType":"module"}